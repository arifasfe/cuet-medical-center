{"ast":null,"code":"import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function PrivateRoute(_ref){let{children}=_ref;const token=localStorage.getItem('token');const user=JSON.parse(localStorage.getItem('user'));if(!token||!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}const{id}=user;// Check the user's id\nif(id===\"admin\"&&window.location.pathname.startsWith(\"/admin\")){return children;}else if(id!==\"admin\"&&window.location.pathname.startsWith(\"/student\")){return children;}else if(window.location.pathname===\"/\"){return/*#__PURE__*/_jsx(Navigate,{to:id===\"admin\"?\"/admin/home\":\"/student/home\"});}else{return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}}export default PrivateRoute;","map":{"version":3,"names":["Navigate","jsx","_jsx","PrivateRoute","_ref","children","token","localStorage","getItem","user","JSON","parse","to","id","window","location","pathname","startsWith"],"sources":["E:/CSE stuffs/ML/CUET Medical Center/ui/cuetmedicalui/src/PrivateRoute.js"],"sourcesContent":["import { Navigate } from 'react-router-dom';\r\n\r\nfunction PrivateRoute({ children }) {\r\n const token = localStorage.getItem('token');\r\n const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n if (!token || !user) {\r\n    return <Navigate to=\"/\" />;\r\n }\r\n\r\n const { id } = user;\r\n\r\n // Check the user's id\r\n if (id === \"admin\" && window.location.pathname.startsWith(\"/admin\")) {\r\n    return children;\r\n } else if (id !== \"admin\" && window.location.pathname.startsWith(\"/student\")) {\r\n    return children;\r\n } else if (window.location.pathname === \"/\") {\r\n    return <Navigate to={id === \"admin\" ? \"/admin/home\" : \"/student/home\"} />;\r\n } else {\r\n    return <Navigate to=\"/\" />;\r\n }\r\n}\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjC,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAErD,GAAI,CAACF,KAAK,EAAI,CAACG,IAAI,CAAE,CAClB,mBAAOP,IAAA,CAACF,QAAQ,EAACY,EAAE,CAAC,GAAG,CAAE,CAAC,CAC7B,CAEA,KAAM,CAAEC,EAAG,CAAC,CAAGJ,IAAI,CAEnB;AACA,GAAII,EAAE,GAAK,OAAO,EAAIC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CAClE,MAAO,CAAAZ,QAAQ,CAClB,CAAC,IAAM,IAAIQ,EAAE,GAAK,OAAO,EAAIC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,UAAU,CAAC,UAAU,CAAC,CAAE,CAC3E,MAAO,CAAAZ,QAAQ,CAClB,CAAC,IAAM,IAAIS,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,GAAG,CAAE,CAC1C,mBAAOd,IAAA,CAACF,QAAQ,EAACY,EAAE,CAAEC,EAAE,GAAK,OAAO,CAAG,aAAa,CAAG,eAAgB,CAAE,CAAC,CAC5E,CAAC,IAAM,CACJ,mBAAOX,IAAA,CAACF,QAAQ,EAACY,EAAE,CAAC,GAAG,CAAE,CAAC,CAC7B,CACD,CAEA,cAAe,CAAAT,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}