{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSE stuffs\\\\ML\\\\CUET Medical Center\\\\ui\\\\cuetmedicalui\\\\src\\\\Components\\\\Roster.js\";\nimport React, { Component } from \"react\";\nimport variables from './../variables';\nimport { Button, Alert, Table, Modal, ModalHeader, ModalBody, FormGroup, Label, Input, ModalFooter, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getMonthName() {\n  const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  const d = new Date();\n  return months[d.getUTCMonth()];\n}\nfunction getCurrentTimeSlot() {\n  const hours = new Date().getHours();\n  if (hours >= 21 || hours < 9) {\n    return 'Evening';\n  } else if (hours >= 9 && hours < 15) {\n    return 'Morning';\n  } else {\n    return 'Noon';\n  }\n}\nfunction getCurrentDayOfWeek() {\n  const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  return days[new Date().getDay()];\n}\nexport const getCurrentlyAvailableDoctor = rosters => {\n  const currentDayOfWeek = getCurrentDayOfWeek();\n  const currentTimeSlot = getCurrentTimeSlot();\n  return rosters.find(roster => roster.dayslot.day === currentDayOfWeek && roster.dayslot.slot === currentTimeSlot);\n};\nexport class Roster extends Component {\n  constructor(props) {\n    super(props);\n    this.changeRosterId = e => {\n      this.setState({\n        roster_id: e.target.value\n      });\n    };\n    this.changeMonth = e => {\n      this.setState({\n        month: e.target.value\n      });\n    };\n    this.changeYear = e => {\n      this.setState({\n        year: e.target.value\n      });\n    };\n    this.toggle = () => {\n      this.setState(prevState => ({\n        showModal: !prevState.showModal\n      }));\n    };\n    this.toggleDropdownDoctor = () => {\n      this.setState(prevState => ({\n        dropdownOpenDoctor: !prevState.dropdownOpenDoctor\n      }));\n    };\n    this.toggleDropdownDayslot = () => {\n      this.setState(prevState => ({\n        dropdownOpenDayslot: !prevState.dropdownOpenDayslot\n      }));\n    };\n    this.addClick = () => {\n      this.setState({\n        modalTitle: \"Add Roster\",\n        roster_id: \"\",\n        month: \"\",\n        year: \"\",\n        selectedDoctorId: \"\",\n        selectedDayslotId: \"\"\n      });\n      this.toggle();\n    };\n    this.createClick = () => {\n      // Construct the URL with the month, year, doctor, and dayslot as parameters\n      const url = `${variables.API_URL}roster/?month=${this.state.month}&year=${this.state.year}&doctor=${this.state.selectedDoctorId}&dayslot=${this.state.selectedDayslotId}`;\n\n      // Make a GET request to the roster API\n      fetch(url).then(res => res.json()).then(result => {\n        // If a roster with the same month, year, doctor, and dayslot already exists, show an alert and return\n        if (result.length > 0) {\n          alert('Roster already exists.');\n          return;\n        }\n\n        // Otherwise, make a POST request to create a new roster\n        fetch(variables.API_URL + 'roster/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            roster_id: this.state.roster_id,\n            month: this.state.month,\n            year: this.state.year,\n            doctor: this.state.selectedDoctorId,\n            dayslot: this.state.selectedDayslotId\n          })\n        }).then(res => res.json()).then(result => {\n          alert(JSON.stringify(result));\n          this.refreshList();\n        }, error => {\n          alert('Failed');\n        });\n      });\n    };\n    this.state = {\n      roster_id: 0,\n      month: \"\",\n      year: \"\",\n      modalTitle: \"\",\n      doctor: {\n        doctor_id: \"\",\n        doctor_name: \"\"\n      },\n      rosters: [],\n      groupedByDay: {},\n      dayslot: {\n        day: \"\",\n        slot: \"\"\n      },\n      doctors: [],\n      dayslots: [],\n      showModal: false,\n      dropdownOpenDoctor: false,\n      dropdownOpenDayslot: false\n    };\n  }\n  refreshList() {\n    fetch(variables.API_URL + 'roster/').then(response => response.json()).then(data => {\n      if ('data' in data && Array.isArray(data.data)) {\n        // Group the rosters by day\n        const groupedByDay = data.data.reduce((acc, roster) => {\n          const day = roster.dayslot.day;\n          if (!acc[day]) {\n            acc[day] = [];\n          }\n          acc[day].push(roster);\n          return acc;\n        }, {});\n        this.setState({\n          rosters: data.data,\n          groupedByDay: groupedByDay // Store the grouped rosters in the state\n        });\n      } else {\n        console.error('Expected an object with a data property containing an array, but got ', data);\n      }\n    });\n    fetch(variables.API_URL + 'dayslot/').then(response => response.json()).then(data => {\n      if ('data' in data && Array.isArray(data.data)) {\n        const dayslots = data.data.map(dayslot => {\n          return {\n            id: dayslot.id,\n            day: dayslot.day,\n            slot: dayslot.slot\n          };\n        });\n        console.log(dayslots); // Log the mapped dayslots array\n        this.setState({\n          dayslots: dayslots\n        });\n      } else {\n        console.error('Expected an object with a data property containing an array of dayslot objects, but got ', data);\n      }\n    });\n    fetch(variables.API_URL + 'doctor/').then(response => response.json()).then(data => {\n      if ('data' in data && Array.isArray(data.data)) {\n        const doctors = data.data.map(doctor => {\n          return {\n            doctor_id: doctor.doctor_id,\n            doctor_name: doctor.doctor_name,\n            specialization: doctor.specialization\n          };\n        });\n        console.log(doctors); // Log the mapped doctors array\n        this.setState({\n          doctors: doctors\n        });\n      } else {\n        console.error('Expected an object with a data property containing an array of doctor objects, but got ', data);\n      }\n    });\n  }\n  componentDidMount() {\n    this.refreshList();\n  }\n  handleDoctorSelection(selectedId) {\n    this.setState({\n      selectedDoctorId: selectedId\n    });\n  }\n  handleDayslotSelection(selectedId) {\n    // Update the state\n    this.setState({\n      selectedDayslotId: selectedId\n    });\n  }\n  groupByDay(rosters) {\n    return rosters.reduce((groups, roster) => {\n      const day = roster.dayslot.day;\n      if (!groups[day]) {\n        groups[day] = [];\n      }\n      groups[day].push(roster);\n      return groups;\n    }, {});\n  }\n  deleteClick(id) {\n    if (window.confirm('Are you sure?')) {\n      fetch(variables.API_URL + 'roster/' + id, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(result => {\n        alert(result);\n        this.refreshList();\n      }, error => {\n        alert('Failed');\n      });\n    }\n  }\n  render() {\n    var _rosters$;\n    const {\n      rosters,\n      modalTitle,\n      groupedByDay,\n      roster_id,\n      month,\n      year,\n      doctors,\n      dayslots,\n      showModal,\n      doctor: {\n        doctor_id,\n        doctor_name\n      },\n      dayslot: {\n        day,\n        slot\n      },\n      selectedDoctorId,\n      selectedDayslotId\n    } = this.state;\n    const now = new Date();\n    const utcMonth = now.getUTCMonth() + 1; // getUTCMonth returns 0-based month index, so we add 1\n    const utcYear = now.getUTCFullYear();\n    const currentDayOfWeek = getCurrentDayOfWeek();\n    const currentTimeSlot = getCurrentTimeSlot();\n    const currentDoctor = this.state.rosters.find(roster => roster.dayslot.day === currentDayOfWeek && roster.dayslot.slot === getCurrentTimeSlot());\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        color: \"secondary\",\n        className: \"mt-3 mx-auto\",\n        style: {\n          maxWidth: '80%',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Alert, {\n            color: \"primary\",\n            className: \"float-start\",\n            children: [\"Doctor Roster:\", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\" \", getMonthName((_rosters$ = rosters[0]) === null || _rosters$ === void 0 ? void 0 : _rosters$.month), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"info \",\n            className: \"float-start\",\n            children: [\"Current Day:\", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\" \", currentDayOfWeek, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"info\",\n            className: \"float-start\",\n            children: [\"Current Time Slot: \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: getCurrentTimeSlot()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"success\",\n            className: \"float-start\",\n            children: [\"Doctor on Duty: \", /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: currentDoctor ? currentDoctor.doctor.doctor_name : 'No Doctor Assigned'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"float-end\",\n          onClick: this.addClick,\n          children: \"Update Roster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 mx-auto\",\n        style: {\n          maxWidth: '90%'\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          bordered: true,\n          className: \"mt-3 mx-auto\",\n          style: {\n            maxWidth: '90%',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Roster Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Doctor Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Options\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.keys(groupedByDay).map((day, dayIndex) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: groupedByDay[day].map((roster, rosterIndex) => {\n                // Only render the roster if its month and year match the current UTC month and year\n                if (roster.month === utcMonth && roster.year === utcYear) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: rosterIndex === 0 ? dayIndex + 1 : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: rosterIndex === 0 ? day : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: roster.dayslot.slot\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: roster.doctor.doctor_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        outline: true,\n                        color: \"danger\",\n                        onClick: () => this.deleteClick(roster.roster_id),\n                        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                          xmlns: \"http://www.w3.org/2000/svg\",\n                          width: \"16\",\n                          height: \"16\",\n                          fill: \"currentColor\",\n                          className: \"bi bi-trash-fill\",\n                          viewBox: \"0 0 16 16\",\n                          children: /*#__PURE__*/_jsxDEV(\"path\", {\n                            d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 342,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 341,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 53\n                    }, this)]\n                  }, roster.roster_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 49\n                  }, this);\n                }\n              })\n            }, dayIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: showModal,\n        toggle: this.toggle,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.toggle,\n          children: \"Add Roster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"month\",\n              children: \"Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"select\",\n              name: \"month\",\n              id: \"month\",\n              value: this.state.month,\n              onChange: this.changeMonth,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Month\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"January\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"February\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"March\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"April\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5\",\n                children: \"May\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"6\",\n                children: \"June\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"7\",\n                children: \"July\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"8\",\n                children: \"August\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"9\",\n                children: \"September\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10\",\n                children: \"October\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"11\",\n                children: \"November\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12\",\n                children: \"December\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"year\",\n              children: \"Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              name: \"year\",\n              id: \"year\",\n              value: this.state.year,\n              onChange: this.changeYear\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"doctor\",\n              children: \"Doctor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              isOpen: this.state.dropdownOpenDoctor,\n              toggle: this.toggleDropdownDoctor,\n              children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n                caret: true,\n                children: this.state.selectedDoctorId ? this.state.selectedDoctorId : \"Select Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n                children: this.state.doctors.map(doctor => /*#__PURE__*/_jsxDEV(DropdownItem, {\n                  onClick: () => this.handleDoctorSelection(doctor.doctor_id),\n                  children: [doctor.doctor_name, \" - \", doctor.specialization]\n                }, doctor.doctor_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              for: \"dayslot\",\n              children: \"Day Slot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              isOpen: this.state.dropdownOpenDayslot,\n              toggle: this.toggleDropdownDayslot,\n              children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n                caret: true,\n                children: this.state.selectedDayslotId ? this.state.selectedDayslotId : \"Select Day Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    maxHeight: '200px',\n                    overflowY: 'auto'\n                  },\n                  children: this.state.dayslots.map(dayslot => /*#__PURE__*/_jsxDEV(DropdownItem, {\n                    onClick: () => this.handleDayslotSelection(dayslot.id),\n                    children: [dayslot.day, \"-\", dayslot.slot]\n                  }, dayslot.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            onClick: this.createClick,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            onClick: this.toggle,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Roster;","map":{"version":3,"names":["React","Component","variables","Button","Alert","Table","Modal","ModalHeader","ModalBody","FormGroup","Label","Input","ModalFooter","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","jsxDEV","_jsxDEV","getMonthName","months","d","Date","getUTCMonth","getCurrentTimeSlot","hours","getHours","getCurrentDayOfWeek","days","getDay","getCurrentlyAvailableDoctor","rosters","currentDayOfWeek","currentTimeSlot","find","roster","dayslot","day","slot","Roster","constructor","props","changeRosterId","e","setState","roster_id","target","value","changeMonth","month","changeYear","year","toggle","prevState","showModal","toggleDropdownDoctor","dropdownOpenDoctor","toggleDropdownDayslot","dropdownOpenDayslot","addClick","modalTitle","selectedDoctorId","selectedDayslotId","createClick","url","API_URL","state","fetch","then","res","json","result","length","alert","method","headers","body","JSON","stringify","doctor","refreshList","error","doctor_id","doctor_name","groupedByDay","doctors","dayslots","response","data","Array","isArray","reduce","acc","push","console","map","id","log","specialization","componentDidMount","handleDoctorSelection","selectedId","handleDayslotSelection","groupByDay","groups","deleteClick","window","confirm","render","_rosters$","now","utcMonth","utcYear","getUTCFullYear","currentDoctor","children","color","className","style","maxWidth","display","justifyContent","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","onClick","bordered","textAlign","Object","keys","dayIndex","Fragment","rosterIndex","outline","xmlns","width","height","fill","viewBox","isOpen","for","type","name","onChange","caret","maxHeight","overflowY"],"sources":["E:/CSE stuffs/ML/CUET Medical Center/ui/cuetmedicalui/src/Components/Roster.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport variables from './../variables';\r\nimport { Button, Alert, Table, Modal, ModalHeader, ModalBody, FormGroup, Label, Input, ModalFooter, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\n\r\n\r\nfunction getMonthName() {\r\n    const months = [\r\n        \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n    ];\r\n    const d = new Date();\r\n    return months[d.getUTCMonth()];\r\n}\r\n\r\nfunction getCurrentTimeSlot() {\r\n    const hours = new Date().getHours();\r\n    if (hours >= 21 || hours < 9) {\r\n        return 'Evening';\r\n    } else if (hours >= 9 && hours < 15) {\r\n        return 'Morning';\r\n    } else {\r\n        return 'Noon';\r\n    }\r\n}\r\n\r\nfunction getCurrentDayOfWeek() {\r\n    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    return days[new Date().getDay()];\r\n}\r\n\r\nexport const getCurrentlyAvailableDoctor = (rosters) => {\r\n    const currentDayOfWeek = getCurrentDayOfWeek();\r\n    const currentTimeSlot = getCurrentTimeSlot();\r\n    return rosters.find(roster => roster.dayslot.day === currentDayOfWeek && roster.dayslot.slot === currentTimeSlot);\r\n   };\r\n\r\nexport class Roster extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            roster_id: 0,\r\n            month: \"\",\r\n            year: \"\",\r\n            modalTitle: \"\",\r\n            doctor: {\r\n                doctor_id: \"\",\r\n                doctor_name: \"\",\r\n            },\r\n            rosters: [],\r\n            groupedByDay: {},\r\n            dayslot: {\r\n                day: \"\",\r\n                slot: \"\",\r\n            },\r\n            doctors: [],\r\n            dayslots: [],\r\n            showModal: false,\r\n            dropdownOpenDoctor: false,\r\n            dropdownOpenDayslot: false\r\n        }\r\n    }\r\n    refreshList() {\r\n\r\n        fetch(variables.API_URL + 'roster/')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if ('data' in data && Array.isArray(data.data)) {\r\n                    // Group the rosters by day\r\n                    const groupedByDay = data.data.reduce((acc, roster) => {\r\n                        const day = roster.dayslot.day;\r\n                        if (!acc[day]) {\r\n                            acc[day] = [];\r\n                        }\r\n                        acc[day].push(roster);\r\n                        return acc;\r\n                    }, {});\r\n\r\n                    this.setState({\r\n                        rosters: data.data,\r\n                        groupedByDay: groupedByDay // Store the grouped rosters in the state\r\n                    });\r\n                } else {\r\n                    console.error('Expected an object with a data property containing an array, but got ', data);\r\n                }\r\n            });\r\n\r\n\r\n        fetch(variables.API_URL + 'dayslot/')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if ('data' in data && Array.isArray(data.data)) {\r\n                    const dayslots = data.data.map(dayslot => {\r\n                        return {\r\n                            id: dayslot.id,\r\n                            day: dayslot.day,\r\n                            slot: dayslot.slot\r\n                        };\r\n                    });\r\n                    console.log(dayslots); // Log the mapped dayslots array\r\n                    this.setState({\r\n                        dayslots: dayslots\r\n                    });\r\n                } else {\r\n                    console.error('Expected an object with a data property containing an array of dayslot objects, but got ', data);\r\n                }\r\n            });\r\n\r\n\r\n\r\n        fetch(variables.API_URL + 'doctor/')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if ('data' in data && Array.isArray(data.data)) {\r\n                    const doctors = data.data.map(doctor => {\r\n                        return {\r\n                            doctor_id: doctor.doctor_id,\r\n                            doctor_name: doctor.doctor_name,\r\n                            specialization: doctor.specialization\r\n                        };\r\n                    });\r\n                    console.log(doctors); // Log the mapped doctors array\r\n                    this.setState({\r\n                        doctors: doctors\r\n                    });\r\n                } else {\r\n                    console.error('Expected an object with a data property containing an array of doctor objects, but got ', data);\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshList();\r\n    }\r\n    changeRosterId = (e) => {\r\n        this.setState({ roster_id: e.target.value })\r\n    }\r\n    changeMonth = (e) => {\r\n        this.setState({ month: e.target.value })\r\n    }\r\n    changeYear = (e) => {\r\n        this.setState({ year: e.target.value })\r\n    }\r\n    toggle = () => {\r\n        this.setState(prevState => ({\r\n            showModal: !prevState.showModal\r\n        }));\r\n    };\r\n\r\n    toggleDropdownDoctor = () => {\r\n        this.setState(prevState => ({\r\n            dropdownOpenDoctor: !prevState.dropdownOpenDoctor\r\n        }));\r\n    };\r\n\r\n    toggleDropdownDayslot = () => {\r\n        this.setState(prevState => ({\r\n            dropdownOpenDayslot: !prevState.dropdownOpenDayslot\r\n        }));\r\n    };\r\n\r\n\r\n    addClick = () => {\r\n        this.setState({\r\n            modalTitle: \"Add Roster\",\r\n            roster_id: \"\",\r\n            month: \"\",\r\n            year: \"\",\r\n            selectedDoctorId: \"\",\r\n            selectedDayslotId: \"\"\r\n        });\r\n        this.toggle();\r\n    }\r\n\r\n    handleDoctorSelection(selectedId) {\r\n        this.setState({\r\n            selectedDoctorId: selectedId\r\n        });\r\n    }\r\n\r\n    handleDayslotSelection(selectedId) {\r\n        // Update the state\r\n        this.setState({\r\n            selectedDayslotId: selectedId\r\n        });\r\n    }\r\n\r\n\r\n\r\n    createClick = () => {\r\n        // Construct the URL with the month, year, doctor, and dayslot as parameters\r\n        const url = `${variables.API_URL}roster/?month=${this.state.month}&year=${this.state.year}&doctor=${this.state.selectedDoctorId}&dayslot=${this.state.selectedDayslotId}`;\r\n\r\n        // Make a GET request to the roster API\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                // If a roster with the same month, year, doctor, and dayslot already exists, show an alert and return\r\n                if (result.length > 0) {\r\n                    alert('Roster already exists.');\r\n                    return;\r\n                }\r\n\r\n                // Otherwise, make a POST request to create a new roster\r\n                fetch(variables.API_URL + 'roster/', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        roster_id: this.state.roster_id,\r\n                        month: this.state.month,\r\n                        year: this.state.year,\r\n                        doctor: this.state.selectedDoctorId,\r\n                        dayslot: this.state.selectedDayslotId\r\n                    })\r\n                })\r\n                    .then(res => res.json())\r\n                    .then(result => {\r\n                        alert(JSON.stringify(result));\r\n                        this.refreshList();\r\n                    }, (error) => {\r\n                        alert('Failed');\r\n                    })\r\n            })\r\n    }\r\n\r\n    groupByDay(rosters) {\r\n        return rosters.reduce((groups, roster) => {\r\n            const day = roster.dayslot.day;\r\n            if (!groups[day]) {\r\n                groups[day] = [];\r\n            }\r\n            groups[day].push(roster);\r\n            return groups;\r\n        }, {});\r\n    }\r\n\r\n    deleteClick(id) {\r\n        if (window.confirm('Are you sure?')) {\r\n            fetch(variables.API_URL + 'roster/' + id, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(result => {\r\n                    alert(result);\r\n                    this.refreshList();\r\n\r\n                }, (error) => {\r\n                    alert('Failed');\r\n                })\r\n        }\r\n    }\r\n\r\n    \r\n    render() {\r\n        const {\r\n            rosters,\r\n            modalTitle,\r\n            groupedByDay,\r\n            roster_id,\r\n            month,\r\n            year,\r\n            doctors,\r\n            dayslots,\r\n            showModal,\r\n            doctor: {\r\n                doctor_id,\r\n                doctor_name,\r\n            },\r\n            dayslot: {\r\n                day,\r\n                slot,\r\n            },\r\n            selectedDoctorId,\r\n            selectedDayslotId\r\n        } = this.state;\r\n        const now = new Date();\r\n        const utcMonth = now.getUTCMonth() + 1; // getUTCMonth returns 0-based month index, so we add 1\r\n        const utcYear = now.getUTCFullYear();\r\n        const currentDayOfWeek = getCurrentDayOfWeek();\r\n        const currentTimeSlot = getCurrentTimeSlot();\r\n        const currentDoctor = this.state.rosters.find(roster => roster.dayslot.day === currentDayOfWeek && roster.dayslot.slot === getCurrentTimeSlot());\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div color=\"secondary\" className=\"mt-3 mx-auto\" style={{ maxWidth: '80%', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <div style={{ display: 'flex', gap: '1rem' }}>\r\n                        <Alert color=\"primary\" className=\"float-start\">\r\n                            Doctor Roster:<h4> {getMonthName(rosters[0]?.month)} </h4>\r\n                        </Alert>\r\n                        <Alert color=\"info \" className=\"float-start\">\r\n                            Current Day:<h4> {currentDayOfWeek} </h4>\r\n                        </Alert>\r\n                        <Alert color=\"info\" className=\"float-start\">\r\n                            Current Time Slot: <h4>{getCurrentTimeSlot()}</h4>\r\n                        </Alert>\r\n                        <Alert color=\"success\" className=\"float-start\">\r\n                            Doctor on Duty: <h4>{currentDoctor ? currentDoctor.doctor.doctor_name : 'No Doctor Assigned'}</h4>\r\n                        </Alert>\r\n                    </div>\r\n                    <Button color=\"primary\" className=\"float-end\" onClick={this.addClick}>\r\n                        Update Roster\r\n                    </Button>\r\n                </div>\r\n\r\n                <div className=\"mt-3 mx-auto\" style={{ maxWidth: '90%' }}>\r\n\r\n                    <Table bordered className=\"mt-3 mx-auto\" style={{ maxWidth: '90%', textAlign: 'center' }}>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Roster Id</th>\r\n                                <th>Day</th>\r\n                                <th>Slot</th>\r\n                                <th>Doctor Name</th>\r\n                                <th>Options</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n\r\n                            {Object.keys(groupedByDay).map((day, dayIndex) => (\r\n                                <React.Fragment key={dayIndex}>\r\n                                    {groupedByDay[day].map((roster, rosterIndex) => {\r\n                                        // Only render the roster if its month and year match the current UTC month and year\r\n                                        if (roster.month === utcMonth && roster.year === utcYear) {\r\n                                            return (\r\n                                                <tr key={roster.roster_id}>\r\n                                                    <td>{rosterIndex === 0 ? dayIndex + 1 : ''}</td>\r\n                                                    <td>{rosterIndex === 0 ? day : \"\"}</td>\r\n                                                    <td>{roster.dayslot.slot}</td>\r\n                                                    <td>{roster.doctor.doctor_name}</td>\r\n                                                    <td>\r\n                                                        <Button outline color=\"danger\" onClick={() => this.deleteClick(roster.roster_id)}>\r\n                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                                                                <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\" />\r\n                                                            </svg>\r\n                                                        </Button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            );\r\n                                        }\r\n                                    })}\r\n                                </React.Fragment>\r\n                            ))}\r\n\r\n                        </tbody>\r\n                    </Table>\r\n\r\n\r\n                </div>\r\n\r\n                <Modal isOpen={showModal} toggle={this.toggle}>\r\n                    <ModalHeader toggle={this.toggle}>Add Roster</ModalHeader>\r\n\r\n                    <ModalBody>\r\n                        <FormGroup>\r\n                            <Label for=\"month\">Month</Label>\r\n                            <Input type=\"select\" name=\"month\" id=\"month\" value={this.state.month} onChange={this.changeMonth}>\r\n                                <option value=\"\">Select Month</option>\r\n                                <option value=\"1\">January</option>\r\n                                <option value=\"2\">February</option>\r\n                                <option value=\"3\">March</option>\r\n                                <option value=\"4\">April</option>\r\n                                <option value=\"5\">May</option>\r\n                                <option value=\"6\">June</option>\r\n                                <option value=\"7\">July</option>\r\n                                <option value=\"8\">August</option>\r\n                                <option value=\"9\">September</option>\r\n                                <option value=\"10\">October</option>\r\n                                <option value=\"11\">November</option>\r\n                                <option value=\"12\">December</option>\r\n                            </Input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"year\">Year</Label>\r\n                            <Input type=\"number\" name=\"year\" id=\"year\" value={this.state.year} onChange={this.changeYear} />\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"doctor\">Doctor</Label>\r\n                            <Dropdown isOpen={this.state.dropdownOpenDoctor} toggle={this.toggleDropdownDoctor}>\r\n                                <DropdownToggle caret>\r\n                                    {this.state.selectedDoctorId ? this.state.selectedDoctorId : \"Select Doctor\"}\r\n                                </DropdownToggle>\r\n                                <DropdownMenu>\r\n                                    {this.state.doctors.map((doctor) => (\r\n                                        <DropdownItem key={doctor.doctor_id} onClick={() => this.handleDoctorSelection(doctor.doctor_id)}>\r\n                                            {doctor.doctor_name} - {doctor.specialization}\r\n                                        </DropdownItem>\r\n                                    ))}\r\n                                </DropdownMenu>\r\n                            </Dropdown>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"dayslot\">Day Slot</Label>\r\n                            <Dropdown isOpen={this.state.dropdownOpenDayslot} toggle={this.toggleDropdownDayslot}>\r\n                                <DropdownToggle caret>\r\n                                    {this.state.selectedDayslotId ? this.state.selectedDayslotId : \"Select Day Slot\"}\r\n                                </DropdownToggle>\r\n                                <DropdownMenu>\r\n                                    <div style={{ maxHeight: '200px', overflowY: 'auto' }}>\r\n                                        {this.state.dayslots.map((dayslot) => (\r\n                                            <DropdownItem key={dayslot.id} onClick={() => this.handleDayslotSelection(dayslot.id)}>\r\n                                                {dayslot.day}-{dayslot.slot}\r\n                                            </DropdownItem>\r\n                                        ))}\r\n                                    </div>\r\n                                </DropdownMenu>\r\n                            </Dropdown>\r\n                        </FormGroup>\r\n\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"primary\" onClick={this.createClick}>Save</Button>\r\n                        <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\nexport default Roster;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}