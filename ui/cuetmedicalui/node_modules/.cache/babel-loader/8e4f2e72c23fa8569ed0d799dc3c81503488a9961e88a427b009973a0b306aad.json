{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Form,FormGroup,Label,Input,Card,CardBody,CardTitle,CardText}from'reactstrap';import variables from'./../variables';import home from'./../images/student.png';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function StudentHome(){const user=JSON.parse(localStorage.getItem('user'));const[modal,setModal]=useState(false);const[formData,setFormData]=useState(user);const toggle=()=>setModal(!modal);const handleInputChange=event=>{setFormData({...formData,[event.target.name]:event.target.value});};const handleUpdate=event=>{event.preventDefault();fetch(variables.API_URL+'user/'+user.id,{method:'PATCH',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(formData)}).then(res=>res.json()).then(result=>{const userData=result.data;localStorage.setItem('user',JSON.stringify(userData));alert('Profile updated successfully!');toggle();},error=>{alert('Failed to update profile');});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{style:{paddingLeft:\"10%\",paddingTop:\"10px\"},children:[\"Welcome, \",user.first_name,\" \",user.last_name,\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'auto'},children:[/*#__PURE__*/_jsx(\"img\",{src:home,alt:\"Student\",style:{position:'absolute',width:\"25%\",marginRight:'40%'}}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',marginLeft:'65%',width:'600px',overflowY:'hidden',maxHeight:'calc(100vh - 100px)'},children:/*#__PURE__*/_jsx(Card,{className:\"shadow p-3 mb-5 bg-white rounded\",style:{transition:'opacity 0.5s ease-in-out',marginBottom:\"20px\"},children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(CardTitle,{tag:'h5',className:\"d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:variables.CLOUDINARY_BASE_URL+user.image,alt:\"Student\",style:{width:'120px',height:'120px'}})}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gender:\"}),\" \",user.gender]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Department:\"}),\" \",user.department]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",user.phone]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Permanent Address:\"}),\" \",user.permanent_address]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hall Name:\"}),\" \",user.hall_name]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Room No:\"}),\" \",user.room_no]}),/*#__PURE__*/_jsxs(CardText,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Blood Group:\"}),\" \",user.blood_group]}),/*#__PURE__*/_jsx(Button,{onClick:toggle,children:\"Update Profile\"})]})})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modal,toggle:toggle,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:toggle,children:\"Update Profile\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"phone\",children:\"Phone No.\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"phone\",id:\"phone\",placeholder:\"Enter Phone No.\",value:formData.phone,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"hall_name\",children:\"Hall Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"hall_name\",id:\"hall_name\",placeholder:\"Enter Hall Name\",value:formData.hall_name,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"room_no\",children:\"Room No.\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"room_no\",id:\"room_no\",placeholder:\"Enter Room No.\",value:formData.room_no,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",children:\"Update\"})]})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:toggle,children:\"Cancel\"})})]})]});}export default StudentHome;","map":{"version":3,"names":["React","useState","useNavigate","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","Card","CardBody","CardTitle","CardText","variables","home","jsxs","_jsxs","jsx","_jsx","StudentHome","user","JSON","parse","localStorage","getItem","modal","setModal","formData","setFormData","toggle","handleInputChange","event","target","name","value","handleUpdate","preventDefault","fetch","API_URL","id","method","headers","body","stringify","then","res","json","result","userData","data","setItem","alert","error","children","style","paddingLeft","paddingTop","first_name","last_name","display","justifyContent","alignItems","height","src","alt","position","width","marginRight","flexWrap","marginLeft","overflowY","maxHeight","className","transition","marginBottom","tag","CLOUDINARY_BASE_URL","image","email","gender","department","phone","permanent_address","hall_name","room_no","blood_group","onClick","isOpen","onSubmit","for","type","placeholder","onChange","color"],"sources":["E:/CSE stuffs/ML/CUET Medical Center/ui/cuetmedicalui/src/stuComponents/StudentHome.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Card, CardBody, CardTitle, CardText } from 'reactstrap';\r\nimport variables from './../variables';\r\nimport PropTypes from 'prop-types';\r\nimport home from './../images/student.png';\r\n\r\nfunction StudentHome() {\r\n const user = JSON.parse(localStorage.getItem('user'));\r\n const [modal, setModal] = useState(false);\r\n const [formData, setFormData] = useState(user);\r\n\r\n const toggle = () => setModal(!modal);\r\n\r\n const handleInputChange = (event) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n };\r\n\r\n const handleUpdate = (event) => {\r\n    event.preventDefault();\r\n\r\n    fetch(variables.API_URL + 'user/' + user.id , {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n    })\r\n    .then(res => res.json())\r\n    .then(result => {\r\n        const userData = result.data;\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        alert('Profile updated successfully!');\r\n        toggle();\r\n    }, (error) => {\r\n        alert('Failed to update profile');\r\n    })\r\n};\r\n\r\n return (\r\n    <div>\r\n    <h1 style={{paddingLeft:\"10%\", paddingTop:\"10px\"}}>Welcome, {user.first_name} {user.last_name}!</h1>\r\n    <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'auto',}}>\r\n      <img src={home} alt=\"Student\" style={{ position: 'absolute', width:\"25%\", marginRight: '40%' }} />\r\n      <div style={{display: 'flex', flexWrap: 'wrap', marginLeft: '65%', width: '600px', overflowY: 'hidden', maxHeight: 'calc(100vh - 100px)'}}>\r\n        <Card className=\"shadow p-3 mb-5 bg-white rounded\" style={{ transition: 'opacity 0.5s ease-in-out',marginBottom:\"20px\" }}>\r\n          <CardBody>\r\n            <CardTitle tag={'h5'} className=\"d-flex justify-content-between align-items-center\">\r\n              <img src={variables.CLOUDINARY_BASE_URL + user.image} alt=\"Student\" style={{ width: '120px', height: '120px' }}/>\r\n            </CardTitle>\r\n            <CardText><strong>Email:</strong> {user.email}</CardText>\r\n            <CardText><strong>Gender:</strong> {user.gender}</CardText>\r\n            <CardText><strong>Department:</strong> {user.department}</CardText>\r\n            <CardText><strong>Phone:</strong> {user.phone}</CardText>\r\n            <CardText><strong>Permanent Address:</strong> {user.permanent_address}</CardText>\r\n            <CardText><strong>Hall Name:</strong> {user.hall_name}</CardText>\r\n            <CardText><strong>Room No:</strong> {user.room_no}</CardText>\r\n            <CardText><strong>Blood Group:</strong> {user.blood_group}</CardText>\r\n            <Button onClick={toggle}>Update Profile</Button>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n\r\n      <Modal isOpen={modal} toggle={toggle}>\r\n        <ModalHeader toggle={toggle}>Update Profile</ModalHeader>\r\n        <ModalBody>\r\n        <Form onSubmit={handleUpdate}>\r\n            <FormGroup>\r\n                <Label for=\"phone\">Phone No.</Label>\r\n                <Input type=\"text\" name=\"phone\" id=\"phone\" placeholder=\"Enter Phone No.\" value={formData.phone} onChange={handleInputChange} />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Label for=\"hall_name\">Hall Name</Label>\r\n                <Input type=\"text\" name=\"hall_name\" id=\"hall_name\" placeholder=\"Enter Hall Name\" value={formData.hall_name} onChange={handleInputChange} />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Label for=\"room_no\">Room No.</Label>\r\n                <Input type=\"text\" name=\"room_no\" id=\"room_no\" placeholder=\"Enter Room No.\" value={formData.room_no} onChange={handleInputChange} />\r\n            </FormGroup>\r\n            <Button color=\"primary\" type=\"submit\">Update</Button>\r\n            </Form>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n );\r\n}\r\n\r\nStudentHome.propTypes = {\r\n user: PropTypes.object.isRequired,\r\n toggle: PropTypes.func.isRequired,\r\n formData: PropTypes.object.isRequired,\r\n handleInputChange: PropTypes.func.isRequired,\r\n handleUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default StudentHome;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}