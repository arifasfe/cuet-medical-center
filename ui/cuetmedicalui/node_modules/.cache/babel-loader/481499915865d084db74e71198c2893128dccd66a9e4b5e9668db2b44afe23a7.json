{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSE stuffs\\\\ML\\\\CUET Medical Center\\\\ui\\\\cuetmedicalui\\\\src\\\\PrivateRoute.js\";\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PrivateRoute() {\n  const token = localStorage.getItem('token');\n  const user = JSON.parse(localStorage.getItem('user'));\n  if (!token || !user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 11\n    }, this);\n  }\n  const {\n    is_staff,\n    is_superuser,\n    is_active,\n    verified\n  } = user;\n  if (!is_active || !verified) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 11\n    }, this);\n  }\n\n  // Check the user's role\n  if (is_staff && is_superuser || !is_staff && !is_superuser) {\n    return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 11\n    }, this);\n  }\n\n  // Redirect to login page if the user does not have the correct role\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Navigate","Outlet","jsxDEV","_jsxDEV","PrivateRoute","token","localStorage","getItem","user","JSON","parse","to","fileName","_jsxFileName","lineNumber","columnNumber","is_staff","is_superuser","is_active","verified","_c","$RefreshReg$"],"sources":["E:/CSE stuffs/ML/CUET Medical Center/ui/cuetmedicalui/src/PrivateRoute.js"],"sourcesContent":["import { Navigate, Outlet } from 'react-router-dom';\r\n\r\nfunction PrivateRoute() {\r\n const token = localStorage.getItem('token');\r\n const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n if (!token || !user) {\r\n   return <Navigate to=\"/login\" />;\r\n }\r\n\r\n const { is_staff, is_superuser, is_active, verified } = user;\r\n\r\n if (!is_active || !verified) {\r\n   return <Navigate to=\"/login\" />;\r\n }\r\n\r\n // Check the user's role\r\n if ((is_staff && is_superuser) || (!is_staff && !is_superuser)) {\r\n   return <Outlet />;\r\n }\r\n\r\n // Redirect to login page if the user does not have the correct role\r\n return <Navigate to=\"/login\" />;\r\n}\r\n\r\nexport default PrivateRoute;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,SAASC,YAAYA,CAAA,EAAG;EACvB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,IAAI,CAACF,KAAK,IAAI,CAACG,IAAI,EAAE;IACnB,oBAAOL,OAAA,CAACH,QAAQ;MAACW,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;EAEA,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC,SAAS;IAAEC;EAAS,CAAC,GAAGX,IAAI;EAE5D,IAAI,CAACU,SAAS,IAAI,CAACC,QAAQ,EAAE;IAC3B,oBAAOhB,OAAA,CAACH,QAAQ;MAACW,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;;EAEA;EACA,IAAKC,QAAQ,IAAIC,YAAY,IAAM,CAACD,QAAQ,IAAI,CAACC,YAAa,EAAE;IAC9D,oBAAOd,OAAA,CAACF,MAAM;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnB;;EAEA;EACA,oBAAOZ,OAAA,CAACH,QAAQ;IAACW,EAAE,EAAC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAChC;AAACK,EAAA,GArBQhB,YAAY;AAuBrB,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}